GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  * ===== Minimal, ASCII-only, standalone model =====
   2   
   4  Scalar P_BIOCHAR   /500/     ;
   5  Scalar d_active    /50/      ;
   6  Scalar Q_char      /100/     ;
   7  Scalar Q_ship      /100/     ;
   8  Scalar c_tkm       /0.12/    ;
   9  Scalar surcharge   /5/       ;
  10  Scalar v_up        /50/      ;
  11  Scalar fixed_plant /10000/   ;
  12  Scalar v_plant     /30/      ;
  13  Scalar Rev_elec    /0/       ;
  14  Scalar labor_on    /1/       ;
  15  Scalar v_labor     /8/       ;
  17  * Variables and equation
  18  Variables z ;
  19  Equations obj ;
  20   
  21  * Components as scalars (recomputed before each solve)
  22  Scalar labor_cost, C_transport, C_upstream, C_plant, Revenue ;
  23  Scalar Pcalc, dcalc ;
  24   
  25  * Objective definition
  26  obj.. z =e= Revenue - (C_transport + C_upstream + C_plant) ;
  27   
  28  Model BiocharProfit / obj / ;
  29   
  30  * First solve with defaults
  31  labor_cost = labor_on * v_labor * Q_char ;
  32  C_transport = c_tkm * d_active * Q_ship + surcharge * Q_ship ;
  33  C_upstream  = v_up * Q_char + labor_cost ;
  34  C_plant     = fixed_plant + v_plant * Q_char ;
  35  Revenue     = P_BIOCHAR * Q_char + Rev_elec ;
  36  Solve BiocharProfit using LP maximizing z ;
  37   
  38  * --------- Sensitivity surface: price x distance (solverless) ----------
  39  Set p / p200, p250, p300, p350, p400, p450, p500, p550, p600, p650, p700, p750, p800 /
  40      d / d0, d10, d20, d30, d40, d50, d60, d70, d80, d90, d100, d110, d120, d130, d140
  41           , d150, d160, d170, d180, d190, d200 /;
  42   
  43  Parameter Pgrid(p), Dgrid(d);
  44  Pgrid("p200") = 200 ; Pgrid("p250") = 250 ; Pgrid("p300") = 300 ;
  45  Pgrid("p350") = 350 ; Pgrid("p400") = 400 ; Pgrid("p450") = 450 ;
  46  Pgrid("p500") = 500 ; Pgrid("p550") = 550 ; Pgrid("p600") = 600 ;
  47  Pgrid("p650") = 650 ; Pgrid("p700") = 700 ; Pgrid("p750") = 750 ; Pgrid("p800") = 800 ;
  48   
  49  Dgrid("d0") = 0 ; Dgrid("d10") = 10 ; Dgrid("d20") = 20 ; Dgrid("d30") = 30 ; Dgrid("d40") = 40 ;
  50  Dgrid("d50") = 50 ; Dgrid("d60") = 60 ; Dgrid("d70") = 70 ; Dgrid("d80") = 80 ; Dgrid("d90") = 90 ;
  51  Dgrid("d100") = 100 ; Dgrid("d110") = 110 ; Dgrid("d120") = 120 ; Dgrid("d130") = 130 ; Dgrid("d140") = 140 ;
  52  Dgrid("d150") = 150 ; Dgrid("d160") = 160 ; Dgrid("d170") = 170 ; Dgrid("d180") = 180 ; Dgrid("d190") = 190 ; Dgrid("d200") = 200 ;
  53   
  54  * Profit map (price x distance)
  55  Parameter PROFITMAP(p,d);
  56  Scalar labor_cost, C_transport, C_upstream, C_plant, Revenue, Profit;
  57   
  58  Loop(p,
  59    Pcalc = Pgrid(p);
  60    Loop(d,
  61      dcalc = Dgrid(d);
  62   
  63      labor_cost  = labor_on * v_labor * Q_char ;
  64      C_transport = c_tkm * dcalc * Q_ship + surcharge * Q_ship ;
  65      C_upstream  = v_up * Q_char + labor_cost ;
  66      C_plant     = fixed_plant + v_plant * Q_char ;
  67      Revenue     = Pcalc * Q_char + Rev_elec ;
  68   
  69      Profit      = Revenue - (C_transport + C_upstream + C_plant);
  70      PROFITMAP(p,d) = Profit ;
  71    );
  72  );
  73   
  74  * Write surface CSV
  75  File fSurf /profit_surface.csv/ ; put fSurf ;
  76  put 'price_eur_per_t,dist_km,profit_eur' / ;
  77  Loop(p, Loop(d,
  78    put Pgrid(p):0:0 ',' Dgrid(d):0:0 ',' PROFITMAP(p,d):0:2 / ;
  79  )); putclose fSurf ;
  80   
  81   
  82   
  83  * --------- 1D curves (no ord, reuse p and d) ----------
  84  Set metric / x, y / ;
  85  Parameter CurveDist(d,metric), CurvePrice(p,metric) ;
  86   
  87  * Profit vs distance at current P_BIOCHAR
  88  Loop(d,
  89    dcalc   = Dgrid(d) ;
  90   
  91    labor_cost = labor_on * v_labor * Q_char ;
  92    C_transport = c_tkm * dcalc * Q_ship + surcharge * Q_ship ;
  93    C_upstream  = v_up * Q_char + labor_cost ;
  94    C_plant     = fixed_plant + v_plant * Q_char ;
  95    Revenue     = P_BIOCHAR * Q_char + Rev_elec ;
  96    Profit = Revenue - (C_transport + C_upstream + C_plant) ;
  97    CurveDist(d,"x") = Dgrid(d) ;
  98    CurveDist(d,"y") = Profit ;
  99  ) ;
 100   
 101  File fCD /curve_distance.csv/ ; put fCD ;
 102  put 'dist_km,profit_eur' / ;
 103  Loop(d, put CurveDist(d,"x"):0:0 ',' CurveDist(d,"y"):0:2 / ; ) ;
 104  putclose fCD ;
 105   
 106  * Profit vs price at fixed distance = 50 km
 107  dcalc = Dgrid("d50") ;
 108  Loop(p,
 109    Pcalc = Pgrid(p) ;
 110    labor_cost = labor_on * v_labor * Q_char ;
 111    C_transport = c_tkm * dcalc * Q_ship + surcharge * Q_ship ;
 112   
 113    C_upstream  = v_up * Q_char + labor_cost ;
 114    C_plant     = fixed_plant + v_plant * Q_char ;
 115    Revenue     = Pcalc * Q_char + Rev_elec ;
 116    Profit = Revenue - (C_transport + C_upstream + C_plant) ;
 117    CurvePrice(p,"x") = Pgrid(p) ;
 118    CurvePrice(p,"y") = Profit ;
 119  ) ;
 120   
 121  File fCP /curve_price.csv/ ; put fCP ;
 122  put 'price_eur_per_t,profit_eur' / ;
 123  Loop(p, put CurvePrice(p,"x"):0:0 ',' CurvePrice(p,"y"):0:2 / ; ) ;
 124  putclose fCP ;
 125   
 127  Parameter PROFITMAP(p,d), CurveDist(d,metric), CurvePrice(p,metric);
 129   
 130  execute_unload 'results.gdx', PROFITMAP, CurveDist, CurvePrice ;


COMPILATION TIME     =        0.015 SECONDS      3 MB  49.6.1 55d34574 WEX-WEI
GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE BiocharProfit Using LP From line 36


---- obj  =E=  

obj..  z =E= 30100 ; (LHS = 0, INFES = 30100 ****)
     
GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE BiocharProfit Using LP From line 36


---- z  

z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       obj

GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Range Statistics    SOLVE BiocharProfit Using LP From line 36


RANGE STATISTICS (ABSOLUTE NON-ZERO FINITE VALUES)

RHS       [min, max] : [ 3.010E+04, 3.010E+04]
Bound     [min, max] : [        NA,        NA]
Matrix    [min, max] : [ 1.000E+00, 1.000E+00]

GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE BiocharProfit Using LP From line 36


MODEL STATISTICS

BLOCKS OF EQUATIONS           1     SINGLE EQUATIONS            1
BLOCKS OF VARIABLES           1     SINGLE VARIABLES            1
NON ZERO ELEMENTS             1


GENERATION TIME      =        0.031 SECONDS      4 MB  49.6.1 55d34574 WEX-WEI
GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE BiocharProfit Using LP From line 36


               S O L V E      S U M M A R Y

     MODEL   BiocharProfit       OBJECTIVE  z
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CPLEX               FROM LINE  36

**** SOLVER STATUS     1 Normal Completion
**** MODEL STATUS      1 Optimal
**** OBJECTIVE VALUE            30100.0000

 RESOURCE USAGE, LIMIT          0.000 10000000000.000
 ITERATION COUNT, LIMIT         0    2147483647
--- GAMS/CPLEX licensed for continuous and discrete problems.
--- GMO setup time: 0.00s
--- GMO memory 0.50 Mb (peak 0.50 Mb)
--- Dictionary memory 0.00 Mb
--- Cplex 22.1.2.0 link memory 0.00 Mb (peak 0.00 Mb)
--- Starting Cplex


--- LP status (1): optimal.
--- Cplex Time: 0.00sec (det. 0.00 ticks)


Optimal solution found
Objective:        30100.000000


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU obj            30100.0000     30100.0000     30100.0000         1.0000      

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR z                 -INF        30100.0000        +INF             .          


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 10/14/25 16:00:11 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


**** REPORT FILE SUMMARY

fSurf C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\profit_surface.csv
fCD C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\curve_distance.csv
fCP C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\curve_price.csv


EXECUTION TIME       =        0.297 SECONDS      7 MB  49.6.1 55d34574 WEX-WEI


USER: Large MUD - 20 User License                    S231215|0002AN-WIN
      Leibniz-Zentrum fuer Agrarlandschaftsforschung (ZALF) e. V.DC8734
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\GAMS_Graph_Pyrolysis2.gms
Output     C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\GAMS_Graph_Pyrolysis2.lst
