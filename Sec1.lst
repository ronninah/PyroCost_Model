GAMS 49.6.1  55d34574 May 28, 2025          WEX-WEI x86 64bit/MS Windows - 08/25/25 16:23:55 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *-------------  COST-EFFICIENT PYROLYSIS / BIOCHAR PLANT (MILP)  -------------
   2  * Nahid Hasan Ronnie
   3  * Distance between farms and candidate plant sites enters via dist(i,j) [km]
   4  * Transport tonne-km = backhaul * sum_i dist(i,j) * x(i,j)
   5  *-----------------------------------------------------------------------------
   6   
   7  * -------- TECHNOLOGY: Pyro-ClinX 150 (single unit) --------
   8   
      Distanceâ€“cost siting (single plant, continuous along a corridor)
      - Decision variable X (km) = plant location on a 1D axis (e.g., along a road)
      - Transport distance di(i) = |X - pos(i)| via linear abs-value (dpos/dneg)
      - Must produce at least DemandChar t/yr of biochar (prevents the zero solution)
      - Linear program (LP)
  16   
  17  * ---------- SETS ----------
  18  Sets
  19      i   "biomass sources (farms)" / i1*i5 / ;
  20   
  21  * ---------- DATA (EDIT THESE) ----------
  22  Parameters
  23      pos(i)          "farm position (km along corridor)"
  24      Supply(i)       "available feed as-received (t/yr)"
  25      MoistureASR(i)  "as-received moisture fraction" ;
  26   
  27  * demo placeholders (replace with your numbers)
  28  pos("i1") =  10 ;  pos("i2") = 35 ;  pos("i3") = 60 ;  pos("i4") = 85 ;  pos("i5") = 110 ;
  29  Supply(i)  = 800 ; Supply("i2") = 900 ; Supply("i3") = 700 ; Supply("i4") = 600 ; Supply("i5") = 500 ;
  30  MoistureASR(i) = 0.05 ;
  31   
  32  * ---------- SCALARS ----------
  33  Scalars
  34      DemandChar      "minimum biochar required (t/yr)"       / 500   /
  35      backhaul        "t-km multiplier (1 one-way, 2 round)"  / 2     /
  36      CTrans          "EUR per t-km (transport)"              / 0.12  /
  37      Wage            "EUR per labor-hour"                    / 35    /
  38      LaborPerTon     "labor hours per t (as-received)"       / 0.2   /
  39      VarOMperTon     "variable O&M EUR per t feed"           / 0     /
  40      YieldChar       "t char per t dry feed"                 / 0.25  /
  41      ElecUse_kWh_per_tDry "kWh per t dry feed"               / 200   /
  42      PriceElec       "EUR per kWh (grid import)"             / 0.18  /
  43      EFelec_kWh      "kgCO2e per kWh electricity"            / 0.30  /
  44      EFtrans_tkm     "kgCO2e per t-km transport"             / 0.10  /
  45      CarbonPrice     "EUR per tCO2e (0 if ignore)"           / 0     /
  46      r               "discount rate"                         / 0.08  /
  47      life            "economic lifetime (years)"             / 15    /
  48      CRF             "capital recovery factor"
  49      CapexPlant      "EUR plant CAPEX (single line)"         / 5000000 /
  50      FixOMFrac       "fixed O&M fraction of CAPEX (1/yr)"    / 0.05   /
  51      CO2perC         "tCO2 per tC"
  52      CfracChar       "tC per t char"                         / 0.80   /
  53      StabFrac        "stable fraction (-)"                   / 0.75   / ;
  54   
  55  CRF     = r * power(1 + r, life) / (power(1 + r, life) - 1) ;
  56  CO2perC = 44/12 ;
  57   
  58  * sequestration credit per t DRY feed from source i (keeps linearity)
  59  Parameter kDry(i) "tCO2e credit per t DRY feed from source i";
  60  kDry(i) = YieldChar * CfracChar * StabFrac * CO2perC ;
  61   
  62  * ---------- VARIABLES ----------
  63  Positive Variables
  64      x(i)        "flow from farm i to plant (t/yr, as-received)"
  65      FeedASR     "total as-received feed (t/yr)"
  66      FeedDry     "total dry feed (t/yr)"
  67      Char        "biochar output (t/yr)"
  68      EnergyUse   "electricity use (kWh/yr)"
  69      Tkm         "tonne-km (t-km/yr)"
  70      dpos(i)     "positive deviation for |X - pos(i)|"
  71      dneg(i)     "negative deviation for |X - pos(i)|"
  72      di(i)       "distance from plant to farm i (km)" ;
  73   
  74  Variables
  75      X           "plant location along corridor (km)"
  76      TotalCost   "total annual cost (EUR/yr)"
  77      TotalEmis   "net emissions (tCO2e/yr)" ;
  78   
  79  * optional bounds for X (edit to your corridor)
  80  Scalar Xmin / 0 /, Xmax / 200 / ;
  81  X.lo = Xmin ;  X.up = Xmax ;
****       $148           $148
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
  82   
  83  * ---------- EQUATIONS ----------
  84  Equations
  85      SupplyLim(i)
  86      FeedAgg
  87      FeedDryDef
  88      CharDef
  89      EnergyDef
  90      DistAbs1(i)     "X - pos(i) = dpos(i) - dneg(i)"
  91      DistAbs2(i)     "di(i) = dpos(i) + dneg(i)"
  92      TkmDef
  93      EmisDef
  94      DemandReq
  95      CostDef ;
  96   
  97  SupplyLim(i)..     x(i) =L= Supply(i) ;
  98   
  99  FeedAgg..          FeedASR =E= sum(i, x(i)) ;
 100   
 101  FeedDryDef..       FeedDry =E= sum(i, x(i) * (1 - MoistureASR(i))) ;
 102   
 103  CharDef..          Char    =E= YieldChar * FeedDry ;
 104   
 105  EnergyDef..        EnergyUse =E= ElecUse_kWh_per_tDry * FeedDry ;
 106   
 107  DistAbs1(i)..      X - pos(i) =E= dpos(i) - dneg(i) ;
****                       $148
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 108  DistAbs2(i)..      di(i)      =E= dpos(i) + dneg(i) ;
 109   
 110  TkmDef..           Tkm =E= backhaul * sum(i, di(i) * x(i)) ;
 111   
 112  * Emissions = electricity + transport - sequestration
 113  EmisDef..
 114      TotalEmis =E=
 115          (EFelec_kWh/1000) * EnergyUse
 116        + (EFtrans_tkm/1000) * Tkm
 117        - sum(i, kDry(i) * (1 - MoistureASR(i)) * x(i)) ;
 118   
 119  * Force production so solution is never zero
 120  DemandReq..        Char =G= DemandChar ;
 121   
 122  CostDef..
 123      TotalCost =E=
 124            CRF * CapexPlant
 125          + FixOMFrac * CapexPlant
 126          + PriceElec * EnergyUse
 127          + CTrans * Tkm
 128          + Wage * LaborPerTon * FeedASR
 129          + VarOMperTon       * FeedASR
 130          + CarbonPrice * TotalEmis ;
 131   
 132  Model DistCost / all / ;
 133  Solve DistCost using LP minimizing TotalCost ;
****                                               $257
**** 257  Solve statement not checked because of previous errors
 134   
 135  Display X.l, TotalCost.l, TotalEmis.l, Char.l, FeedASR.l, Tkm.l, x.l, di.l ;
****                         $141         $141    $141       $141   $141       $141
**** 141  Symbol declared but no values have been assigned. Check for missing
****         data definition, assignment, data loading or implicit assignment
****         via a solve statement. Suppress with $onImplicitAssign.
****         A wild shot: You may have spurious commas in the explanatory
****         text of a declaration. Check symbol reference list.

**** 10 ERROR(S)   0 WARNING(S)


COMPILATION TIME     =        0.016 SECONDS      3 MB  49.6.1 55d34574 WEX-WEI


USER: Large MUD - 20 User License                    S231215|0002AN-WIN
      Leibniz-Zentrum fuer Agrarlandschaftsforschung (ZALF) e. V.DC8734
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\Sec1.gms
Output     C:\Users\ronnie\Documents\GAMS\Studio\workspace\Pyro\Sec1.lst

**** USER ERROR(S) ENCOUNTERED
